(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{286:function(s,t,a){"use strict";a.r(t);var n=a(14),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"原生sql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#原生sql"}},[s._v("#")]),s._v(" 原生sql")]),s._v(" "),t("p",[s._v("虽然构造器的功能已经十分完善，但可能有一些特殊的方言，比如postgresql中的distinct on，oracle中的connect by在构造器中没有对应的api，这时候也可以使用"),t("code",[s._v('sql""')]),s._v("构建原生sql：")]),s._v(" "),t("div",{staticClass:"language-scala extra-class"},[t("pre",{pre:!0,attrs:{class:"language-scala"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("easysql"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dsl"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" s "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string-interpolation"}},[t("span",{pre:!0,attrs:{class:"token id function"}},[s._v("sql")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"select * from user where id = ')]),t("span",{pre:!0,attrs:{class:"token interpolation"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token expression"}},[s._v("id")])]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"')])]),s._v("\n")])])]),t("p",[s._v("这看起来就像是原生的字符串模板一样，如果熟悉scala的字符串模板，想必不会对这种方式感到陌生。")]),s._v(" "),t("p",[s._v("字符串等类型的变量代入其中的时候可以自动生成单引号：")]),s._v(" "),t("div",{staticClass:"language-scala extra-class"},[t("pre",{pre:!0,attrs:{class:"language-scala"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("easysql"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dsl"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"x"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" s "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string-interpolation"}},[t("span",{pre:!0,attrs:{class:"token id function"}},[s._v("sql")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"select * from user where name = ')]),t("span",{pre:!0,attrs:{class:"token interpolation"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token expression"}},[s._v("name")])]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"')])]),s._v("\n")])])]),t("p",[s._v("也可以把List代入其中：")]),s._v(" "),t("div",{staticClass:"language-scala extra-class"},[t("pre",{pre:!0,attrs:{class:"language-scala"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("easysql"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dsl"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" idList "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" List"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" s "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string-interpolation"}},[t("span",{pre:!0,attrs:{class:"token id function"}},[s._v("sql")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"select * from user where id in ')]),t("span",{pre:!0,attrs:{class:"token interpolation"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token expression"}},[s._v("idList")])]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"')])]),s._v("\n")])])]),t("p",[s._v("可见，就算是使用原生sql，我们也不用编写生成表达式的样板代码。")])])}),[],!1,null,null,null);t.default=e.exports}}]);